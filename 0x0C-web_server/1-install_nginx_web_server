#!/usr/bin/env bash

# Update the package lists
apt-get update

# Install nginx with an automatic confirmation
apt-get install -y nginx

# Configure Nginx to listen on port 80
sed -i 's/listen 80 default_server;/listen 80;/g' /etc/nginx/sites-available/default

# Restart Nginx gracefully
service nginx restart

# Wait for Nginx to start (optional, but recommended)
sleep 2

# Create index.html with "Hello World!" in document root
echo "Hello World!" > /var/www/html/index.html

# Test Nginx server
curl localhost
